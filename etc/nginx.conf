http {
	include mime.types;
	default_type application/octet-stream;

	upstream app_server {
		server 0.0.0.0:8080;
	}

	server {
		listen 80 default_server;
		listen [::]:80 default_server;

		root /var/www/html;

		index index.html index.htm index.nginx-debian.html;

		server_name _;

		location / {
			proxy_pass http://app_server;
		}

		location ^~ /uploads/ {
			root /home/box/web;
		}
		location ~ \.\w+$ {
			root /home/box/web/public;
		}
		location ~ ^([^.]+)$ {
			return 404;
		}
		location ^~ /hello/ {
			proxy_pass http://app_server;
		}
	}
}
